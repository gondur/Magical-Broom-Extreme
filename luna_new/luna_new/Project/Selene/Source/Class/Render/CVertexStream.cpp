

//-----------------------------------------------------------------------------------
// INCLUDE
//-----------------------------------------------------------------------------------
#include "Base.h"		// PCH
#include "Render/CVertexStream.h"
#include "Core/CDevice.h"


//-----------------------------------------------------------------------------------
// NAMESPACE
//-----------------------------------------------------------------------------------
using namespace Selene;


//-----------------------------------------------------------------------------------
/**
	@brief コンストラクタ
	@author 葉迩倭
*/
//-----------------------------------------------------------------------------------
CVertexStream::CVertexStream( CBaseMgr *pMgr ) : CDeviceObject( pMgr )
{
	m_pDeclaration = NULL;
}


//-----------------------------------------------------------------------------------
/**
	@brief デストラクタ
	@author 葉迩倭
*/
//-----------------------------------------------------------------------------------
CVertexStream::~CVertexStream()
{
	SAFE_RELEASE( m_pDeclaration );
}


//-----------------------------------------------------------------------------------
/**
	@brief 
	@author 葉迩倭
*/
//-----------------------------------------------------------------------------------
void CVertexStream::OnLostDevice( void )
{
}


//-----------------------------------------------------------------------------------
/**
	@brief 
	@author 葉迩倭
*/
//-----------------------------------------------------------------------------------
void CVertexStream::OnResetDevice( void )
{
}


//-----------------------------------------------------------------------------------
/**
	@brief 
	@author 葉迩倭
*/
//-----------------------------------------------------------------------------------
Bool CVertexStream::Create( const D3DVERTEXELEMENT9 *pElements )
{
	HRESULT hr = GetDevicePointer()->CreateVertexDeclaration( pElements, &m_pDeclaration );

	return SUCCEEDED( hr );
}


//-----------------------------------------------------------------------------------
/**
	@brief 
	@author 葉迩倭
*/
//-----------------------------------------------------------------------------------
HRESULT CVertexStream::SetDevice( void )
{
	return GetDevicePointer()->SetVertexDeclaration( m_pDeclaration );
}

